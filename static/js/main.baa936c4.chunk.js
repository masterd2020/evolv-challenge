(this.webpackJsonpevolv=this.webpackJsonpevolv||[]).push([[0],{23:function(e,t,a){e.exports=a(37)},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),i=a(22),s=(a(28),a(1)),u=a(7),o=(a(29),a(5)),m=a(12),d=a(6),E=function(e,t){if("CREATE_DISH"===t.type){var a=t.payload.editId,n=e.dish.find((function(e){return e.id===a}));if(void 0!==n){var l=e.dish.map((function(e){return e.id===a&&(e=Object(d.a)({id:n.id},t.payload.object)),e}));return Object(d.a)({},e,{dish:Object(m.a)(l)})}var r=e.dish[e.dish.length-1],c=Object(d.a)({},t.payload.object,{id:r.id+1});return Object(d.a)({},e,{dish:[].concat(Object(m.a)(e.dish),[c])})}if("EDIT"===t.type){var i=t.payload.object,s=i.setName,u=i.setProtein,o=i.setFats,E=i.setCarbs,h=i.setCalories,b=i.setEditId,p=e.dish.find((function(e){return e.id===t.payload.id})),f=p.name,v=p.protein,g=p.fats,O=p.carbs,j=p.calories,y=p.id;return s(f),u(v),o(g),E(O),h(j),b(y),e}if("DELETE"===t.type){var C=e.dish.filter((function(e){return e.id!==t.payload}));return Object(d.a)({},e,{dish:Object(m.a)(C)})}if("SEARCH"===t.type){var N=e.dish.filter((function(e){if(e.name.includes(t.payload))return alert("inside"),alert(JSON.stringify(e)),e}));return alert("search"),alert(JSON.stringify(N)),Object(d.a)({},e,{dish:Object(m.a)(N)})}if("LOGIN"===t.type){var _=t.payload,P=_.fullName,S=_.admin;return Object(d.a)({},e,{user:Object(d.a)({},e.user,{isAdmin:S,fullName:P})})}return"LOGOUT"===t.type?Object(d.a)({},e,{user:Object(d.a)({},e.user,{isAdmin:!1})}):e},h=l.a.createContext(),b={user:{fullName:"",isAdmin:!1},dish:[{name:"pizza",id:0,protein:"5%",carbs:"34%",fats:"3%",calories:"1%"},{name:"pizza",id:1,protein:"5%",carbs:"34%",fats:"3%",calories:"1%"}]},p=function(e){var t=e.children,a=Object(n.useReducer)(E,b),r=Object(o.a)(a,2),c=r[0],i=r[1],s=Object(n.useState)(!1),u=Object(o.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),v=f[0],g=f[1],O=Object(n.useState)(""),j=Object(o.a)(O,2),y=j[0],C=j[1],N=Object(n.useState)(""),_=Object(o.a)(N,2),P=_[0],S=_[1],A=Object(n.useState)(""),I=Object(o.a)(A,2),x=I[0],k=I[1],w=Object(n.useState)(""),F=Object(o.a)(w,2),D=F[0],T=F[1],L=Object(n.useState)(null),R=Object(o.a)(L,2),z=R[0],G=R[1],H=Object(n.useState)(""),J=Object(o.a)(H,2),U=J[0],W=J[1],B=Object(n.useState)(""),$=Object(o.a)(B,2),q=$[0],K=$[1],M=Object(n.useState)(!1),Q=Object(o.a)(M,2),V=Q[0],X=Q[1];return l.a.createElement(h.Provider,{value:{state:c,dispatch:i,editing:m,setEditing:d,name:v,setName:g,protein:y,setProtein:C,fats:P,setFats:S,carbs:x,setCarbs:k,calories:D,setCalories:T,editId:z,setEditId:G,setSearchTerm:W,searchTerm:U,admin:V,setAdmin:X,fullName:q,setFullName:K}},t)},f=function(){return Object(n.useContext)(h)},v=function(){var e=f(),t=e.dispatch,a=e.editing,n=e.name,r=e.setName,c=e.protein,i=e.setProtein,s=e.fats,u=e.setFats,o=e.carbs,m=e.setCarbs,d=e.calories,E=e.setCalories,h=e.setEditing,b=e.editId,p=e.setEditId;return l.a.createElement("div",{className:"create__dish--container"},l.a.createElement("h4",null,"Add a dish"),l.a.createElement("form",{className:"create__dish--form"},l.a.createElement("div",{className:"form__wrapper--container"},l.a.createElement("div",{className:"form__wrapper"},l.a.createElement("label",null,"Name"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",placeholder:"Dish name",value:n,onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{className:"form__wrapper"},l.a.createElement("label",null,"Protein"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",placeholder:"Protein",value:c,onChange:function(e){return i(e.target.value)}})),l.a.createElement("div",{className:"form__wrapper"},l.a.createElement("label",null,"Carbs"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",placeholder:"Carbs",value:o,onChange:function(e){return m(e.target.value)}})),l.a.createElement("div",{className:"form__wrapper"},l.a.createElement("label",null,"Fats"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",placeholder:"Fats",value:s,onChange:function(e){return u(e.target.value)}})),l.a.createElement("div",{className:"form__wrapper"},l.a.createElement("label",null,"Calculated Calories"),l.a.createElement("input",{type:"text",placeholder:"Calculated Calories",value:d,onChange:function(e){return E(e.target.value)}}))),l.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault(),0!==n.length?0!==c.length?0!==s.length?0!==o.length?0!==d.length?(t({type:"CREATE_DISH",payload:{object:{name:n,protein:c,fats:s,carbs:o,calories:d},editId:b,setEditId:p}}),r(""),i(""),u(""),E(""),m(""),h(!1)):alert("Please provide the calories fields"):alert("Please provide the carbs fields"):alert("Please provide the fats fields"):alert("Please provide the protein fields"):alert("Please provide the name fields")}(e)},className:"create__dish--button"},a?"Edit Dish":"Create Dish")))},g=function(){var e=f(),t=e.state,a=e.dispatch,n=e.setEditing,r=e.setName,c=e.setProtein,i=e.setFats,s=e.setCarbs,u=e.setCalories,o=e.setEditId;return l.a.createElement("div",{className:"display__table--container"},l.a.createElement("h3",null,"All Dishes"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Protein"),l.a.createElement("th",null,"Carbs"),l.a.createElement("th",null,"Fats"),l.a.createElement("th",null,"Calculated Calories"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,t.dish.map((function(e){var t=e.id,m=e.name,d=e.protein,E=e.carbs,h=e.fats,b=e.calories;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,m),l.a.createElement("td",null,d),l.a.createElement("td",null,E),l.a.createElement("td",null,h),l.a.createElement("td",null,b),l.a.createElement("td",null,l.a.createElement("button",{onClick:function(){return function(e){n(!0),a({type:"EDIT",payload:{id:e,object:{setName:r,setProtein:c,setFats:i,setCarbs:s,setCalories:u,setEditId:o}}})}(t)}},"Edit")," |",l.a.createElement("button",{onClick:function(){return function(e){a({type:"DELETE",payload:e})}(t)}},"Delete")))})))))},O=function(){var e=f().dispatch;return l.a.createElement("div",{className:"admin__container"},l.a.createElement("h2",null,l.a.createElement(u.b,{to:"/admin"},"Admin Page")),l.a.createElement("h2",null,l.a.createElement(u.b,{to:"/"},"User Page")),l.a.createElement("button",{onClick:function(){return e({type:"LOGOUT"})},className:"logout__button"},"Logout"),l.a.createElement(v,null),l.a.createElement(g,null))},j=(a(35),function(){var e=f(),t=e.setSearchTerm,a=e.searchTerm,n=e.dispatch;return l.a.createElement("div",{className:"search__container"},l.a.createElement("label",null,"Search"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",placeholder:"Search any dish name",value:a,onChange:function(e){return function(e){t(e.target.value),n({type:"SEARCH",payload:e.target.value})}(e)}}))}),y=function(){var e=f().state;return l.a.createElement("div",{className:"display__table--container"},l.a.createElement("h3",null,"All Dishes"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Protein"),l.a.createElement("th",null,"Carbs"),l.a.createElement("th",null,"Fats"),l.a.createElement("th",null,"Calculated Calories"))),l.a.createElement("tbody",null,e.dish.map((function(e){var t=e.id,a=e.name,n=e.protein,r=e.carbs,c=e.fats,i=e.calories;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,a),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",null,c),l.a.createElement("td",null,i))})))))},C=function(){return l.a.createElement("div",{className:"user__container"},l.a.createElement("h2",null,l.a.createElement(u.b,{to:"/"},"User Page")),l.a.createElement("h2",null,l.a.createElement(u.b,{to:"/admin"},"Admin Page")),l.a.createElement("h2",null,l.a.createElement(u.b,{to:"/login"},"Login Page")),l.a.createElement(j,null),l.a.createElement(y,null))},N=(a(36),function(){var e=f(),t=e.dispatch,a=e.state,n=e.fullName,r=e.setFullName,c=e.admin,i=e.setAdmin;return l.a.createElement("div",{className:"login__container"},a.user.isAdmin&&l.a.createElement(s.a,{to:"/admin"}),l.a.createElement("h3",null,"Login"),l.a.createElement("div",{className:"login__wrapper"},l.a.createElement("label",null,"Fullname"),l.a.createElement("br",null),l.a.createElement("input",{type:"text",placeholder:"Fullname",value:n,onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{className:"login__checkbox"},l.a.createElement("input",{type:"checkbox",value:c,onClick:function(){return i(!c)}})," login as admin"),l.a.createElement("div",{className:"login__button"},l.a.createElement("button",{onClick:function(){0!==n.length?(t({type:"LOGIN",payload:{fullName:n,admin:c}}),alert("Welcome back ".concat(n,", you just logged in as admin")),r(""),i(!1)):alert("please provide the fullName field")}},"Login")))}),_=function(e){var t=e.children,a=Object(i.a)(e,["children"]),n=f().state;return l.a.createElement(s.b,Object.assign({},a,{render:function(){return n.user.isAdmin?t:l.a.createElement(s.a,{to:"/error"})}}))};function P(){return l.a.createElement(u.a,null,l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/evolv-challenge"},l.a.createElement(C,null)),l.a.createElement(_,{exact:!0,path:"evolv-challenge/admin"},l.a.createElement(O,null)),l.a.createElement(s.b,{exact:!0,path:"evolv-challenge/login"},l.a.createElement(N,null)),l.a.createElement(s.b,{exact:!0,path:"evolv-challenge/error"},l.a.createElement("h2",null,"404 Not Found")),l.a.createElement(s.b,{path:"*"},l.a.createElement("h2",null,"Error page"))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(p,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.baa936c4.chunk.js.map